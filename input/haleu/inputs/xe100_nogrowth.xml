<simulation xml:base="/home/amandabachmann/transition-scenarios/input/haleu/inputs/" xmlns:xi="http://www.w3.org/2001/XInclude">
  <control>
    <decay>lazy</decay>
    <duration>1500</duration>
    <startmonth>1</startmonth>
    <startyear>1965</startyear> 
  </control>
  <archetypes>
    <spec>
      <lib>cycamore</lib>
      <name>Enrichment</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Reactor</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Sink</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Source</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>Storage</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>DeployManagerInst</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>ManagerInst</name>
    </spec>
    <spec>
      <lib>cycamore</lib>
      <name>GrowthRegion</name>
    </spec>
  </archetypes>

  <xi:include href="united_states/buildtimes/inclusions.xml#xpointer(/inclusions/child::*)"/>
  <facility>
    <name>Sink_HLW</name>
    <config>
      <Sink>
        <in_commods>
          <val>casked_spent_uox</val>
          <val>spent_TRISO</val>
        </in_commods>
        <!-- Yucca Mountain Repository -->
        <latitude>36.8286</latitude>
        <longitude>-116.4364</longitude>
      </Sink>
    </config>
  </facility>
  <facility>
    <name>Sink_LLW</name>
    <config>
      <Sink>
        <in_commods>
          <val>tails</val>
        </in_commods>
        <!-- Yucca Mountain Repository -->
        <latitude>36.8286</latitude>
        <longitude>-116.4364</longitude>
      </Sink>
    </config>
  </facility>
  <facility>
    <name>Mine</name>
    <config>
      <Source>
        <outcommod>nat_u</outcommod>
        <outrecipe>nat_u</outrecipe>
        <throughput>1e6</throughput>
        <!-- Cameco Smith Ranch-Highland Mine -->
        <latitude>43.053736</latitude>
        <longitude>-105.685089</longitude>
      </Source>
    </config>
  </facility>
  <facility>
    <name>Mill</name>
    <config>
      <Storage>
        <in_commods>
          <val>nat_u</val>
        </in_commods>
        <in_recipe>nat_u</in_recipe>
        <out_commods>
          <val>u3o8</val>
        </out_commods>
        <residence_time>1</residence_time>
        <!-- White Mesa Uranium Mill (Utah) -->
        <latitude>37.468419</latitude>
        <longitude>-109.467586</longitude>
      </Storage>
    </config>
  </facility>
  <facility>
    <name>Conversion</name>
    <config>
      <Storage>
        <in_commods>
          <val>u3o8</val>
        </in_commods>
        <in_recipe>u3o8</in_recipe>
        <out_commods>
          <val>uf6</val>
        </out_commods>
        <residence_time>1</residence_time>
        <!-- Honeywell Uranium Conversion Facility (IL) -->
        <latitude>37.171768</latitude>
        <longitude>-88.757039</longitude>
      </Storage>
    </config>
  </facility>
  <facility>
    <name>Enrichment</name>
    <config>
      <Enrichment>
        <feed_commod>uf6</feed_commod>
        <feed_recipe>uf6</feed_recipe>
        <product_commod>enr_u</product_commod>
        <tails_commod>tails</tails_commod>
        <tails_assay>0.002</tails_assay>
        <max_enrich>0.16</max_enrich>
        <!-- Portsmouth Gaseous Diffusion Plant (OH) -->
        <latitude>39.008333</latitude>
        <longitude>-83</longitude>
      </Enrichment>
    </config>
  </facility>
  <facility>
    <name>FuelFab</name>
    <config>
      <Storage>
        <in_commods>
          <val>enr_u</val>
        </in_commods>
        <in_recipe>enr_u</in_recipe>
        <out_commods>
          <val>fresh_uox</val>
        </out_commods>
        <residence_time>1</residence_time>
        <!-- Westing House Fuel Fab (SC) -->
        <latitude>33.8749</latitude>
        <longitude>-80.8976</longitude>
      </Storage>
    </config>
  </facility>
  <facility>
    <name>WetStorage</name>
    <config>
      <Storage>
        <in_commods>
          <val>spent_uox</val>
        </in_commods>
        <in_recipe>spent_uox</in_recipe>
        <out_commods>
          <val>cool_spent_uox</val>
        </out_commods>
        <residence_time>72</residence_time>
        <!-- Yucca Mountain Repository -->
        <latitude>36.8286</latitude>
        <longitude>-116.4364</longitude>
      </Storage>
    </config>
  </facility>
  <facility>
    <name>DryStorage</name>
    <config>
      <Storage>
        <in_commods>
          <val>cool_spent_uox</val>
        </in_commods>
        <in_recipe>cool_spent_uox</in_recipe>
        <out_commods>
          <val>casked_spent_uox</val>
        </out_commods>
        <!-- Yucca Mountain Repository -->
        <latitude>36.8286</latitude>
        <longitude>-116.4364</longitude>
      </Storage>
    </config>
  </facility>
  <facility>
    <name>Xe-100</name>
    <lifetime>720</lifetime>
    <config>
      <Reactor>
        <fuel_incommods> <val>fresh_uox</val> </fuel_incommods>
        <fuel_inrecipes> <val>TRISO</val> </fuel_inrecipes>
        <fuel_outcommods> <val>spent_TRISO</val> </fuel_outcommods>
        <fuel_outrecipes> <val>spent_TRISO</val> </fuel_outrecipes>
        <cycle_time>6</cycle_time>
        <refuel_time>0</refuel_time>
        <assem_size>223.87</assem_size>
        <n_assem_core>7</n_assem_core>
        <n_assem_batch>1</n_assem_batch>
        <power_cap>75</power_cap>
      </Reactor>
    </config>
  </facility>

  <region>
    <name>United States</name>
    <config>
    <GrowthRegion>
      <growth>
        <item>
          <commod>power</commod>
          <piecewise_function>
            <piece>
              <start>709</start>
              <function>
                <type>linear</type>
                <params>0 91818.167</params>
              </function>
            </piece>
          </piecewise_function>
        </item>
      </growth>
      </GrowthRegion>
    </config>
    
    <institution>
      <name>FuelCycle</name>
      <initialfacilitylist>
        <entry>
          <prototype>Sink_LLW</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Mine</prototype>
          <number>5</number>
        </entry>
        <entry>
          <prototype>Mill</prototype>
          <number>5</number>
        </entry>
        <entry>
          <prototype>Conversion</prototype>
          <number>5</number>
        </entry>
        <entry>
          <prototype>Enrichment</prototype>
          <number>5</number>
        </entry>
        <entry>
          <prototype>FuelFab</prototype>
          <number>5</number>
        </entry>
        <entry>
          <prototype>WetStorage</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>DryStorage</prototype>
          <number>1</number>
        </entry>
      </initialfacilitylist>
      <config>
        <ManagerInst>
          <prototypes>
            <val>Sink_LLW</val>
            <val>Mine</val>
            <val>Mill</val>
            <val>Conversion</val>
            <val>Enrichment</val>
            <val>FuelFab</val>
            <val>WetStorage</val>
            <val>DryStorage</val>
            <val>Xe-100</val>
          </prototypes>
        </ManagerInst>
      </config>
    </institution>

    <institution>
      <name>UNITED_STATES_OF_AMERICA</name>
      <config>
        <xi:include href="united_states/buildtimes/UNITED_STATES_OF_AMERICA/deploymanagerinst.xml"/>
      </config>
    </institution>
  </region>

  <recipe>
    <name>haleu</name>
    <basis>mass</basis>
    <nuclide>
      <id>92238</id>
      <comp>0.845</comp>
    </nuclide>
    <nuclide>
      <id>92235</id>
      <comp>0.155</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>TRISO</name>
    <basis>mass</basis>
    <nuclide>
      <id>92238</id>
      <comp>0.845</comp>
    </nuclide>
    <nuclide>
      <id>92235</id>
      <comp>0.155</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>spent_TRISO</name>
    <basis>mass</basis>
    <nuclide>
      <id>92238</id>
      <comp>0.845</comp>
    </nuclide>
    <nuclide>
      <id>92235</id>
      <comp>0.155</comp>
    </nuclide>
  </recipe>

  <xi:include href="united_states/recipes/uox_51.xml#xpointer(/recipes/child::*)"/>
</simulation>
